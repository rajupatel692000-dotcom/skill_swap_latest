{% extends "layout/base.html" %}

{% load static %}

{% block title %}{{ skill.name }} | Skill Swap {% endblock %}

{% block mainsection %}
    <!-- Page Title -->
    <div class="page-title light-background">
      <div class="container d-lg-flex justify-content-between align-items-center">
        <h1 class="mb-2 mb-lg-0">{{ skill.name }}</h1>
        <nav class="breadcrumbs">
          <ol>
            <li><a href="{% url 'core:home' %}">Home</a></li>
            <li><a href="{% url 'category_skills:courses' %}">Courses</a></li>
            <li class="current">{{ skill.name }}</li>
          </ol>
        </nav>
      </div>
    </div><!-- End Page Title -->

    <!-- Course Details Section -->
    <section id="course-details" class="course-details section">

      <div class="container" data-aos="fade-up" data-aos-delay="100">

        <div class="row">
          <div class="col-lg-8">

            <!-- Course Hero -->
            <div class="course-hero" data-aos="fade-up" data-aos-delay="200">
              <div class="hero-content">
                <div class="course-badge">
                  <span class="category">{{ skill.category.name }}</span>
                  <span class="level">{{ skill.get_level_display }}</span>
                </div>
                <h1>{{ skill.name }}</h1>
                <p class="course-subtitle">{{ skill.description }}</p>

                {% if user_skill %}
                <div class="instructor-card">
                  {% if user_skill.user.profile_pic %}
                    <img src="{{ user_skill.user.profile_pic.url }}" alt="Student" class="instructor-image">
                  {% else %}
                    <img src="{% static 'assets/img/default-avatar.webp' %}" alt="Student" class="instructor-image">
                  {% endif %}
                  <div class="instructor-details">
                    <h5>{{ user_skill.user.first_name }} {{ user_skill.user.last_name }}</h5>
                    <span>{{ user_skill.user.department.name|default:"Student" }} - Year {{ user_skill.user.year }}</span>
                    <div class="instructor-rating">
                      <i class="bi bi-person"></i>
                      <span>Student offering this skill</span>
                    </div>
                  </div>
                </div>
                {% endif %}
              </div>
              <div class="hero-image">
                {% if skill.image %}
                  <img src="{{ skill.image.url }}" alt="{{ skill.name }}" class="img-fluid">
                {% else %}
                  <img src="{% static 'assets/img/education/courses-8.webp' %}" alt="{{ skill.name }}" class="img-fluid">
                {% endif %}
                <div class="play-overlay">
                  <button class="play-btn">
                    <i class="bi bi-award"></i>
                  </button>
                  <span>Skill Preview</span>
                </div>
              </div>
            </div><!-- End Course Hero -->

            <!-- Course Navigation Tabs -->
            <div class="course-nav-tabs" data-aos="fade-up" data-aos-delay="300">
              <ul class="nav nav-tabs" id="course-detailsCourseTab" role="tablist">
                <li class="nav-item">
                  <button class="nav-link active" id="course-detailsoverview-tab" data-bs-toggle="tab" data-bs-target="#course-detailsoverview" type="button" role="tab">
                    <i class="bi bi-layout-text-window-reverse"></i>
                    Overview
                  </button>
                </li>
                <li class="nav-item">
                  <button class="nav-link" id="course-detailscurriculum-tab" data-bs-toggle="tab" data-bs-target="#course-detailscurriculum" type="button" role="tab">
                    <i class="bi bi-list-ul"></i>
                    Curriculum
                  </button>
                </li>
                <li class="nav-item">
                  <button class="nav-link" id="course-detailsreviews-tab" data-bs-toggle="tab" data-bs-target="#course-detailsreviews" type="button" role="tab">
                    <i class="bi bi-star"></i>
                    Reviews
                  </button>
                </li>
              </ul>

              <div class="tab-content" id="course-detailsCourseTabContent">

                <!-- Overview Tab -->
                <div class="tab-pane fade show active" id="course-detailsoverview" role="tabpanel">

                  <div class="overview-section">
                    <h3>Skill Description</h3>
                    <p>{{ skill.description }}</p>
                    <p>This skill is offered by a student who has mastered this particular area and is willing to share their knowledge with others.</p>
                  </div>

                  <div class="skills-grid">
                    <h3>Skill Details</h3>
                    <div class="row">
                      <div class="col-md-6">
                        <div class="skill-item">
                          <div class="skill-icon">
                            <i class="bi bi-award"></i>
                          </div>
                          <div class="skill-content">
                            <h5>Skill Name</h5>
                            <p>{{ skill.name }}</p>
                          </div>
                        </div>
                      </div>
                      <div class="col-md-6">
                        <div class="skill-item">
                          <div class="skill-icon">
                            <i class="bi bi-tag"></i>
                          </div>
                          <div class="skill-content">
                            <h5>Category</h5>
                            <p>{{ skill.category.name }}</p>
                          </div>
                        </div>
                      </div>
                      <div class="col-md-6">
                        <div class="skill-item">
                          <div class="skill-icon">
                            <i class="bi bi-bar-chart"></i>
                          </div>
                          <div class="skill-content">
                            <h5>Level</h5>
                            <p>{{ skill.get_level_display }}</p>
                          </div>
                        </div>
                      </div>
                      <div class="col-md-6">
                        <div class="skill-item">
                          <div class="skill-icon">
                            <i class="bi bi-calendar"></i>
                          </div>
                          <div class="skill-content">
                            <h5>Added Date</h5>
                            <p>{{ skill.created_at|date:"F d, Y" }}</p>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="requirements-section">
                    <h3>About the Student</h3>
                    {% if user_skill %}
                    <ul class="requirements-list">
                      <li><i class="bi bi-person"></i>{{ user_skill.user.first_name }} {{ user_skill.user.last_name }}</li>
                      <li><i class="bi bi-building"></i>{{ user_skill.user.university_name.name|default:"University" }}</li>
                      <li><i class="bi bi-mortarboard"></i>{{ user_skill.user.department.name|default:"Department" }} - Year {{ user_skill.user.year }}</li>
                      <li><i class="bi bi-calendar"></i>Added on {{ user_skill.added_at|date:"F d, Y" }}</li>
                    </ul>
                    {% else %}
                    <p>This skill is available for learning but no specific student information is available.</p>
                    {% endif %}
                  </div>

                </div><!-- End Overview Tab -->

                <!-- Curriculum Tab -->
                <div class="tab-pane fade" id="course-detailscurriculum" role="tabpanel">

                  <div class="curriculum-overview">
                    <div class="curriculum-stats">
                      <div class="stat">
                        <i class="bi bi-collection-play"></i>
                        <span>12 Sections</span>
                      </div>
                      <div class="stat">
                        <i class="bi bi-play-circle"></i>
                        <span>89 Lectures</span>
                      </div>
                      <div class="stat">
                        <i class="bi bi-clock"></i>
                        <span>45h 32m</span>
                      </div>
                    </div>
                  </div>

                  <div class="accordion" id="curriculumAccordion">

                    <div class="accordion-item curriculum-module">
                      <h2 class="accordion-header">
                        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#module1">
                          <div class="module-info">
                            <span class="module-title">JavaScript Fundamentals &amp; ES6+</span>
                            <span class="module-meta">8 lessons • 4h 15m</span>
                          </div>
                        </button>
                      </h2>
                      <div id="module1" class="accordion-collapse collapse show" data-bs-parent="#curriculumAccordion">
                        <div class="accordion-body">
                          <div class="lessons-list">
                            <div class="lesson">
                              <i class="bi bi-play-circle"></i>
                              <span class="lesson-title">Variables, Functions and Scope</span>
                              <span class="lesson-time">28 min</span>
                            </div>
                            <div class="lesson">
                              <i class="bi bi-play-circle"></i>
                              <span class="lesson-title">Arrow Functions and Destructuring</span>
                              <span class="lesson-time">35 min</span>
                            </div>
                            <div class="lesson">
                              <i class="bi bi-file-earmark-text"></i>
                              <span class="lesson-title">Promises and Async/Await</span>
                              <span class="lesson-time">42 min</span>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div class="accordion-item curriculum-module">
                      <h2 class="accordion-header">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#module2">
                          <div class="module-info">
                            <span class="module-title">React Development Deep Dive</span>
                            <span class="module-meta">12 lessons • 7h 45m</span>
                          </div>
                        </button>
                      </h2>
                      <div id="module2" class="accordion-collapse collapse" data-bs-parent="#curriculumAccordion">
                        <div class="accordion-body">
                          <div class="lessons-list">
                            <div class="lesson">
                              <i class="bi bi-play-circle"></i>
                              <span class="lesson-title">Components and JSX Syntax</span>
                              <span class="lesson-time">32 min</span>
                            </div>
                            <div class="lesson">
                              <i class="bi bi-play-circle"></i>
                              <span class="lesson-title">State Management with Hooks</span>
                              <span class="lesson-time">48 min</span>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div class="accordion-item curriculum-module">
                      <h2 class="accordion-header">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#module3">
                          <div class="module-info">
                            <span class="module-title">Node.js &amp; Server Development</span>
                            <span class="module-meta">15 lessons • 8h 20m</span>
                          </div>
                        </button>
                      </h2>
                      <div id="module3" class="accordion-collapse collapse" data-bs-parent="#curriculumAccordion">
                        <div class="accordion-body">
                          <div class="lessons-list">
                            <div class="lesson">
                              <i class="bi bi-play-circle"></i>
                              <span class="lesson-title">Express.js Server Setup</span>
                              <span class="lesson-time">25 min</span>
                            </div>
                            <div class="lesson">
                              <i class="bi bi-file-earmark-text"></i>
                              <span class="lesson-title">Building RESTful APIs</span>
                              <span class="lesson-time">55 min</span>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                  </div>

                </div><!-- End Curriculum Tab -->

                <!-- Reviews Tab -->
                <div class="tab-pane fade" id="course-detailsreviews" role="tabpanel">

                  <div class="reviews-summary">
                    <div class="rating-overview">
                      <div class="overall-rating">
                        <div class="rating-number">4.8</div>
                        <div class="rating-stars">
                          <i class="bi bi-star-fill"></i>
                          <i class="bi bi-star-fill"></i>
                          <i class="bi bi-star-fill"></i>
                          <i class="bi bi-star-fill"></i>
                          <i class="bi bi-star-half"></i>
                        </div>
                        <div class="rating-text">1,247 reviews</div>
                      </div>
                    </div>
                  </div>

                  <div class="reviews-list">
                    <div class="review-item">
                      <div class="reviewer-info">
                        <img src="{% static 'assets/img/person/person-f-12.webp' %}" alt="Reviewer" class="reviewer-avatar">
                        <div class="reviewer-details">
                          <h6>Jessica Chen</h6>
                          <div class="review-rating">
                            <i class="bi bi-star-fill"></i>
                            <i class="bi bi-star-fill"></i>
                            <i class="bi bi-star-fill"></i>
                            <i class="bi bi-star-fill"></i>
                            <i class="bi bi-star-fill"></i>
                          </div>
                        </div>
                        <span class="review-date">2 weeks ago</span>
                      </div>
                      <p class="review-text">Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. The instructor explains complex concepts very clearly.</p>
                    </div>

                    <div class="review-item">
                      <div class="reviewer-info">
                        <img src="{% static 'assets/img/person/person-m-5.webp' %}" alt="Reviewer" class="reviewer-avatar">
                        <div class="reviewer-details">
                          <h6>David Thompson</h6>
                          <div class="review-rating">
                            <i class="bi bi-star-fill"></i>
                            <i class="bi bi-star-fill"></i>
                            <i class="bi bi-star-fill"></i>
                            <i class="bi bi-star-fill"></i>
                            <i class="bi bi-star"></i>
                          </div>
                        </div>
                        <span class="review-date">1 month ago</span>
                      </div>
                      <p class="review-text">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Great practical examples and real-world projects that helped me understand the concepts better.</p>
                    </div>

                  </div>

                </div><!-- End Reviews Tab -->

              </div>
            </div><!-- End Course Navigation Tabs -->

          </div>

          <div class="col-lg-4">

            <!-- Enrollment Card -->
            <div class="enrollment-card" data-aos="fade-up" data-aos-delay="200">

              <div class="card-header">
                <div class="price-display">
                  <span class="current-price">Free</span>
                  <span class="original-price">Student Exchange</span>
                  <span class="discount">Skill Sharing</span>
                </div>
                <div class="enrollment-count">
                  <i class="bi bi-award"></i>
                  <span>Skill available for learning</span>
                </div>
              </div>

              <div class="card-body">
                <div class="course-highlights">
                  <div class="highlight-item">
                    <i class="bi bi-award"></i>
                    <span>Skill sharing</span>
                  </div>
                  <div class="highlight-item">
                    <i class="bi bi-person"></i>
                    <span>Student instructor</span>
                  </div>
                  <div class="highlight-item">
                    <i class="bi bi-chat"></i>
                    <span>Direct communication</span>
                  </div>
                  <div class="highlight-item">
                    <i class="bi bi-infinity"></i>
                    <span>Always available</span>
                  </div>
                  <div class="highlight-item">
                    <i class="bi bi-people"></i>
                    <span>Peer learning</span>
                  </div>
                </div>

                <div class="action-buttons">
                  <button class="btn-primary">Contact Student</button>
                  <button class="btn-secondary">Add to Profile</button>
                </div>

                <div class="guarantee">
                  <i class="bi bi-shield-check"></i>
                  <span>Student-to-student learning</span>
                </div>
              </div>

            </div><!-- End Enrollment Card -->

            <!-- Course Details -->
            <div class="course-details-card" data-aos="fade-up" data-aos-delay="300">
              <h4>Skill Details</h4>

              <div class="detail-grid">
                <div class="detail-row">
                  <span class="detail-label">Category</span>
                  <span class="detail-value">{{ skill.category.name }}</span>
                </div>
                <div class="detail-row">
                  <span class="detail-label">Level</span>
                  <span class="detail-value">{{ skill.get_level_display }}</span>
                </div>
                <div class="detail-row">
                  <span class="detail-label">Added</span>
                  <span class="detail-value">{{ skill.created_at|date:"M d, Y" }}</span>
                </div>
                <div class="detail-row">
                  <span class="detail-label">Updated</span>
                  <span class="detail-value">{{ skill.updated_at|date:"M d, Y" }}</span>
                </div>
                {% if user_skill %}
                <div class="detail-row">
                  <span class="detail-label">Student</span>
                  <span class="detail-value">{{ user_skill.user.first_name }} {{ user_skill.user.last_name }}</span>
                </div>
                <div class="detail-row">
                  <span class="detail-label">Year</span>
                  <span class="detail-value">{{ user_skill.user.year }}</span>
                </div>
                {% endif %}
              </div>
            </div><!-- End Course Details -->

            <!-- Share Course -->
            <div class="share-course-card" data-aos="fade-up" data-aos-delay="400">
              <h4>Share This Course</h4>
              <div class="social-links">
                <a href="#" class="social-link facebook">
                  <i class="bi bi-facebook"></i>
                </a>
                <a href="#" class="social-link twitter">
                  <i class="bi bi-twitter"></i>
                </a>
                <a href="#" class="social-link linkedin">
                  <i class="bi bi-linkedin"></i>
                </a>
                <a href="#" class="social-link email">
                  <i class="bi bi-envelope"></i>
                </a>
              </div>
            </div><!-- End Share Course -->

          </div>

        </div>

      </div>

    </section><!-- /Course Details Section -->

{% endblock %}