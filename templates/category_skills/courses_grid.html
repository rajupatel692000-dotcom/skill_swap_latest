{% load static %}

<div class="courses-grid">
  <div class="row">
    {% for skill in skills %}
      <div class="col-lg-6 col-md-6 course-item"
           data-category="{{ skill.category.id }}"
           data-skill-name="{{ skill.name|lower }}"
           data-category-name="{{ skill.category.name|lower }}">
        <div class="course-card">
          <div class="course-image">
            {% if skill.image %}
              <img src="{{ skill.image.url }}" alt="{{ skill.name }}" class="img-fluid">
            {% else %}
              <img src="{% static 'assets/img/education/courses-3.webp' %}" alt="{{ skill.name }}" class="img-fluid">
            {% endif %}
            <div class="course-badge">{{ skill.category.name }}</div>
          </div>
          <div class="course-content">
            <div class="course-meta">
              <span class="category">{{ skill.category.name }}</span>
              <span class="level">{{ skill.get_level_display }}</span>
            </div>
            <h3>{{ skill.name }}</h3>
            <p>{{ skill.description|truncatewords:20 }}</p>
            <div class="course-stats">
              <div class="stat"><i class="bi bi-calendar"></i>
                <span>Added {{ skill.created_at|date:"M d, Y" }}</span>
              </div>
              <div class="stat"><i class="bi bi-people"></i>
                <span>Learn this skill</span>
              </div>
            </div>
            <p class="teacher-name mt-3 p-2 bg-light rounded d-inline-block shadow-sm">
              <i class="bi bi-person text-primary"></i>
              <strong>Student:</strong> {{ skill.teacher.first_name }} {{ skill.teacher.last_name }}
            </p>
            <a href="{% url 'category_skills:course_details' %}" class="btn-course">Course Details -> </a>
          </div>
        </div>
      </div>
    {% empty %}
      <div class="col-12">
        <div class="text-center py-5">
          <h4>No skills available at the moment</h4>
          <p>Please check back later for new courses and skills.</p>
        </div>
      </div>
    {% endfor %}
  </div>
</div>

{% if skills and skills.paginator.num_pages > 1 %}
<div class="pagination-wrapper" data-aos="fade-up" data-aos-delay="300">
  <nav aria-label="Courses pagination">
    <ul class="pagination justify-content-center">
      {% if skills.has_previous %}
        <li class="page-item"><a class="page-link" href="?page={{ skills.previous_page_number }}"><i class="bi bi-chevron-left"></i></a></li>
      {% else %}
        <li class="page-item disabled"><a class="page-link"><i class="bi bi-chevron-left"></i></a></li>
      {% endif %}

      {% for num in skills.paginator.page_range %}
        {% if skills.number == num %}
          <li class="page-item active"><a class="page-link" href="#">{{ num }}</a></li>
        {% else %}
          <li class="page-item"><a class="page-link" href="?page={{ num }}">{{ num }}</a></li>
        {% endif %}
      {% endfor %}

      {% if skills.has_next %}
        <li class="page-item"><a class="page-link" href="?page={{ skills.next_page_number }}"><i class="bi bi-chevron-right"></i></a></li>
      {% else %}
        <li class="page-item disabled"><a class="page-link"><i class="bi bi-chevron-right"></i></a></li>
      {% endif %}
    </ul>
  </nav>
</div>
{% endif %}
